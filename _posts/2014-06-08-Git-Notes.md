---
layout: post
title: Git Notes
tags: Useful
category: Tech
---
### Basics ###

#### Add notes to a commit ####

~~~
git notes add  
~~~

*opens editor to a dd a note to the last commit*

#### Create branch of remote branch ####

~~~
git fetch origin  
git checkout -b tests origin/tests  
~~~

#### Change back to previous branch ####

~~~
git checkout -
~~~

#### Delete remote branch ####

~~~
git push origin :branchname  
git push origin --delete branchName
~~~

#### Allocate Blame ####

~~~
git blame <filename>
~~~

### Merging ###

#### Performing an Interative Merge ####

Avoid having to resolve multiple merge conflicts over and over again when you are doing a git rebase. Use this handy command...

~~~
git rebase -i HEAD~<numberOfCommits>
~~~

-------------------------------------------------------------------------

### Workflows ###

#### Git Flow ####

[Rake plugin](https://github.com/nvie/gitflow)
[Atlassians Explanation](https://www.atlassian.com/git/workflows#!workflow-gitflow)

-------------------------------------------------------------------------

### Git and TeamCity ###

Getting git to play nice with TeamCity on a pull is relatively easy. To get TeamCity to push back to GitHub has been a bit more challenging in the past. Here are some things to keep in mind.  

To get the dos/command line runner to work with git, you need git to have a variable defined as $HOME$ so that git can locate the ssh folder. The ssh folder needs to be in a .ssh directory under the home location ([read here for an explanation](http://catch404.net/2013/01/permission-denied-publickey-issues-with-git-on-windows/)). From the command shell you can define the $HOME$ directory using system parameters. TeamCity has a define Environment Variable where you can specify the HOME value.  

To get ssh to check whether it will be able to log in type with verbose details run the following command as a command build step (For more info on ssh GitHub has a [great post](https://help.github.com/articles/error-permission-denied-publickey)).

~~~
ssh -vT git@github.com
~~~

Finally, it seems to be important that if you do this via dos you should include the call command ([read more here](http://stackoverflow.com/questions/13326487/teamcity-on-successful-build-push-to-git-repo))

~~~
call git push origin
~~~

-------------------------------------------------------------------------

#### Credentials ####

[git credential winstore](https://gitcredentialstore.codeplex.com/)  


#### Revert a file back to its state from a previous commit ####

The following will reset the file "FullFilePathAndFileName.example" to the state it was in when committed in the previous commit.  

~~~
git checkout HEAD^ -- FullFilePathAndFileName.example
~~~

#### Addtional Resources ####

[P4 Merge as a 3 way merge tool explained](http://naleid.com/blog/2013/10/29/how-to-use-p4merge-as-a-3-way-merge-tool-with-git-and-tower-dot-app)
[Think like a git](http://think-like-a-git.net/)  
[Git and GitHub Resources by Phil Haak](http://haacked.com/archive/2014/12/03/git-and-github-resources/)  
